SPI介面有一NSS接腳是用作決定決定SPI設備要與誰通信用的

主要有三個標誌位對它進行控制分別為:
SSM
SSI
SSOE

SSM負責切換NSS管理方式:分為軟體模式1(SSI bit ctl)與硬體模式(外部引腳決定)


SSI 在SSM決定為內部軟體管理時有效，負責決定極性。

SSOE用來決定是否允許內部NSS訊號送到NSS引腳上。
注意:去看電路 內部NSS與外部NSS是有差別的，而決定工作的是內部的NSS。

對NSS的管理有分硬體模式和軟體:
硬體模式:就是SSM=0，就是內部NSS信號來自外部NSS引腳
軟體模式:就是SSM=1，就是內部NSS信號來自於"內部SSI bit"，可以藉由軟體設置SSI控制內部NSS

另外在做為主/從模式下還有分:
一、在做為主模式下:
1.如果是硬體模式，並且SSOE=1，那麼"內部NSS輸出"會送到外部NSS引腳上，也送到內部NSS，如此做到
主端對內外行硬體控制。
這裡在描述息下它的從設備會麼運作:當主端的NSS引腳拉低(動作)，從設備就接收到並開始工作。

1.2如果SSOE=0，"NSS內部輸出"訊息就無法送到從設備了，也就是說，此時NSS引腳就無法控制外部的從
設備了，不過如果有其他的主設備將NSS拉低，"這一個"SPI就會自動切換回從模式，變成可以接收數據，
從而實現多主模式下的功能切換。

2.如果是軟體模式，內部NSS的信息來自於SSI標誌位，但內部NSS信息無法送到NSS引腳，此時就需要用戶
使用其他的GPIO引腳來控制從設備，或是對方也用一樣的方式設定好。

二、在做為從模式下:
1.如果是硬體模式，並且SSOE=0，NSS引腳的信號就可以送到內部NSS，MCU可以受控於其他設備。

1.2如果此時SSOE=1，那SPI可以切換到主模式，實現從到主的切換。

2.如果是軟體模式，此時SSI=0，那麼內部NSS一直為低電位，也就是總是被選中，可以總是和主設備對談。

小節:一般STM32做主設備，且管理一個從設備，可以設置成硬件模式。如果管理多個從設備，可以設置軟件模式。
如果STM32做從設備，盡量也設置成軟件模式，讓SSI=0，就可以隨時接收數據了。

